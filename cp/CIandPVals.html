<!DOCTYPE html>
<html lang="en"><head>
<script src="CIandPVals_files/libs/clipboard/clipboard.min.js"></script>
<script src="CIandPVals_files/libs/quarto-html/tabby.min.js"></script>
<script src="CIandPVals_files/libs/quarto-html/popper.min.js"></script>
<script src="CIandPVals_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="CIandPVals_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="CIandPVals_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="CIandPVals_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="CIandPVals_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.553">

  <meta name="author" content="David Hodge">
  <meta name="dcterms.date" content="2024-08-22">
  <title>Confidence intervals and p-values</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="CIandPVals_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="CIandPVals_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="CIandPVals_files/libs/revealjs/dist/theme/quarto.css">
  <link href="CIandPVals_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="CIandPVals_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="CIandPVals_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="CIandPVals_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <meta name="mermaid-theme" content="default">
  <script src="CIandPVals_files/libs/quarto-diagram/mermaid.min.js"></script>
  <script src="CIandPVals_files/libs/quarto-diagram/mermaid-init.js"></script>
  <link href="CIandPVals_files/libs/quarto-diagram/mermaid.css" rel="stylesheet">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-color="#4D204E" class="quarto-title-block center">
  <h1 class="title"><p>Confidence intervals<br>
and<br>
<span class="math inline">\(p\)</span>-values</p></h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
David Hodge 
</div>
</div>
</div>

  <p class="date">August 22, 2024</p>
</section>
<section id="aims-and-objectives" class="slide level2">
<h2>Aims and objectives</h2>
<h3 id="in-this-section-we-will">In this section we will…</h3>
<ul>
<li>Introduce the term <span class="term">confidence interval</span></li>
<li>Think about what confidence intervals provide</li>
<li>Develop some early intuition for thinking about confidence intervals</li>
</ul>
<hr>
<ul>
<li>Introduce the term <span class="term"><span class="math inline">\(p\)</span>-value</span></li>
<li>Think about what a <span class="math inline">\(p\)</span>-value represents</li>
<li>Develop some early intuition for what <span class="math inline">\(p\)</span>-values capture</li>
</ul>
<hr>
<ul>
<li>Touch briefly and carefully on how they differ and how they can be related</li>
</ul>
</section>
<section id="what-are-confidence-intervals" class="slide level2">
<h2>What are confidence intervals?</h2>
<h3 id="the-wordy-version">The wordy version</h3>
<p>We’re going to collect some data to estimate some unknown population parameter.</p>
<div title="Informal Definition">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Informal Definition</strong></p>
</div>
<div class="callout-content">
<p>A <span class="term">confidence interval</span> is an interval, like <span class="math inline">\([5.5,6.2]\)</span> or <span class="math inline">\([1.43,2.34]\)</span>, created by a statistical process, it has an associated <span class="term">proportion / confidence level</span>, typically we use <span class="math inline">\(95\%\)</span> or <span class="math inline">\(99\%\)</span>.</p>
<p>The process of generating the interval is designed to have a specific property:</p>
<div class="alert">
<p>Our target proportion of the time… the interval we generate contains the true unknown population parameter we want to estimate.</p>
</div>
</div>
</div>
</div>
</div>
<p>Let’s use <span class="math inline">\(\theta\)</span> for our parameter of interest, and <span class="math inline">\(\gamma\)</span> for our <span class="term">confidence level</span>.</p>
<p>Let’s also call our data <span class="math inline">\(X\)</span>, and our <span class="term">interval</span> <span class="math inline">\(I\)</span>.</p>
<!--

## What are confidence intervals?
### A more formal version


Consider an experiment where we will collect data to estimate an unknown population/model parameter $\theta$. We call our random data $X$, and use it to calculate two values $a(X)$ and $b(X)$ where $a(X)\leq b(X)$ so that we can form an interval $[a(X),b(X)]$.

For a chosen contant $0 < \gamma \leq 1$ and random experimental data $X$...

::: {.callout-warning title='Definition'}

A [$\gamma$-level confidence interval for a model parameter $\theta$]{.term} is an interval $I(X) = [a(X),b(X)]$

with the property that
$$
\P(\theta \in I(X)) = \gamma.
$$
Note $X$ is random, not $\theta$.
:::

It may not always be possible to achieve exactly a $\gamma\%$ target, in which case $\geq \gamma$ is acceptable.

-->
</section>
<section id="example-of-a-confidence-interval" class="slide level2">
<h2>Example of a confidence interval</h2>
<h3 id="have-you-been-to-spain">Have you been to Spain?</h3>
<p>Consider <span class="math inline">\(\theta\)</span> the proportion of all first-year Strathclyde students who have been to Spain.</p>
<p>We plan to ask a random sample of <span class="math inline">\(n=30\)</span> of such students if they have been to Spain. We will record their responses and keep the sufficient statistic <span class="math inline">\(\bar{x} = \frac{1}{n}\sum_1^n x_i\)</span> where <span class="math inline">\(x_i=1\)</span> if they have, and <span class="math inline">\(0\)</span> if they haven’t.</p>
<p>We also select <span class="math inline">\(\gamma=0.95\)</span>, i.e.&nbsp;a <span class="math inline">\(95\%\)</span> confidence interval as our target.</p>
<p>We create our interval using the collected our data, <span class="math inline">\(\textbf{x}\)</span> and calculated <span class="math inline">\(\bar{x}\)</span>. However, the possible interval is considered random, until we collect our data. We want our (random) interval creation process to satisfy</p>
<p><span class="math display">\[
\mathbb{P}(\text{interval }I \text{ contains } \theta) = 0.95.
\]</span></p>
<p>It’s the process of generating an interval (by collecting new random data) which has a <span class="math inline">\(95\%\)</span> chance to creating an interval which contains the static true <span class="math inline">\(\theta\)</span>.</p>
<!--
If the true $\theta$ is actually $27\%$ we might hope our output interval to be something around this area, and ideally as narrow as possible. $[24.5\%, 29\%]$ would be nice, $[10\%, 65\%]$ would be okay but not very helpful, $[15.4,26.1\%]$ is also possible.
-->
</section>
<section id="the-confidence-interval-finding-process" class="slide level2">
<h2>The confidence interval finding process</h2>
<div class="center">
<p><img data-src="Mermaid1.png" style="height:8cm"></p>
</div>
<div class="columns">
<div class="column" style="width:30%;">

</div><div class="column" style="width:44%;">
<p>95% of the time this central process spits out an interval which contains the true <span class="math inline">\(\theta\)</span>.</p>
</div><div class="column" style="width:22%;">

</div>
</div>
<div class="hidden">
<div class="cell" data-reveal="true" data-fig-width="6" data-layout-align="default">
<div class="cell-output-display">
<div id="fig-mermaid" class="quarto-figure quarto-figure-center quarto-float">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-mermaid-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>
<pre class="mermaid mermaid-js" data-label="fig-mermaid">flowchart LR
 A[Plan \n experiment\n e.g. n, γ] --&gt; B
 subgraph proc [Confidence Interval process]
 B[Collect \n random \n sample] --&gt; C[Analyse \n then \n calculate \n interval]
 end
 subgraph output [Interval]
 C --&gt; D["[a,b]"]
 end
</pre>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-mermaid-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Process of generating confidence intervals
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="sample-intervals" class="slide level2">
<h2>9 sample intervals</h2>
<h3 id="using-n30-and-the-true-secret-theta">using <span class="math inline">\(n=30\)</span> and the true (secret <span class="math inline">\(\theta\)</span>)</h3>
<div class="center">
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a><span class="co"># (set secret theta)</span></span>
<span id="cb1-2"><a href=""></a>n <span class="ot">=</span> <span class="dv">30</span></span>
<span id="cb1-3"><a href=""></a>sigma <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="dv">1</span> <span class="sc">/</span> (<span class="dv">2</span><span class="sc">*</span><span class="fu">sqrt</span>(n)), <span class="dv">4</span>)</span>
<span id="cb1-4"><a href=""></a>w <span class="ot">&lt;-</span> <span class="fl">1.96</span><span class="sc">*</span>sigma</span>
<span id="cb1-5"><a href=""></a></span>
<span id="cb1-6"><a href=""></a>oneInterval <span class="ot">&lt;-</span> <span class="cf">function</span>(){</span>
<span id="cb1-7"><a href=""></a>  x <span class="ot">&lt;-</span> <span class="fu">rbinom</span>(<span class="dv">1</span>, <span class="dv">30</span>, theta)</span>
<span id="cb1-8"><a href=""></a>  xbar <span class="ot">&lt;-</span> <span class="fu">round</span>(x <span class="sc">/</span> n, <span class="dv">4</span>)</span>
<span id="cb1-9"><a href=""></a>  <span class="fu">cat</span>(<span class="st">"["</span>, xbar <span class="sc">-</span> w, <span class="st">", "</span>,</span>
<span id="cb1-10"><a href=""></a>      xbar <span class="sc">+</span> w, <span class="st">"]</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb1-11"><a href=""></a>      <span class="at">sep=</span><span class="st">""</span>)</span>
<span id="cb1-12"><a href=""></a>}</span>
<span id="cb1-13"><a href=""></a></span>
<span id="cb1-14"><a href=""></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>)</span>
<span id="cb1-15"><a href=""></a>  <span class="fu">oneInterval</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[0.087752, 0.445648]
[0.021052, 0.378948]
[0.121052, 0.478948]
[0.321052, 0.678948]
[0.121052, 0.478948]
[0.054352, 0.412248]
[0.021052, 0.378948]
[0.154352, 0.512248]
[0.054352, 0.412248]</code></pre>
</div>
</div>
</div>
</div>
<!-- HIDDEN

---

## Calculating a confidence interval - I
### A Binomial example
We continue our Spain example. We have seen the Binomial distribution before, we know that our sample $\textbf{x}$, and in particular

$$
\sum_1^n X_i \sim \Bin(n,\theta).
$$


::: {.cell layout-ncol="2"}
::: {.cell-output-display}
![](CIandPVals_files/figure-revealjs/unnamed-chunk-5-1.png){width=960}
:::

::: {.cell-output-display}
![](CIandPVals_files/figure-revealjs/unnamed-chunk-5-2.png){width=960}
:::
:::


These example sample histograms illustrate that even the shape depends on $\theta$, which we don't know.

---

## Calculating a confidence interval - I
### A Binomial example - the difficult part

With a $\Bin(n,\theta)$ distribution we know the mean is $n\theta$ and variance is $n\theta(1-\theta)$. We almost always use a trick here, note that $\theta(1-\theta) \leq \frac{1}{4}$ is always true! So the variance is never bigger than $n/4$.

$$
\bar{x} = \frac{1}{n}\sum_1^n x_i \text{ is a sample from } \frac{1}{n}\Bin(n, \theta)
$$
So $\mathbb{E}(\bar{X}) = \frac{1}{n} n\theta = \theta$, $\Var(\bar{X}) = \frac{\theta(1-\theta)}{n} \leq \frac{1}{4n}$ so $\sd(\bar{X}) \leq \frac{1}{2\sqrt{n}}$.

So $\bar{X}$ is a random variable with mean $\theta$ and standard deviation of at most $\frac{1}{2\sqrt{n}}$. We can use this information to create an interval with $\bar{X}$ at its centre of a sensibly chosen width to try and contain the true $\theta$.

Here it gets quite messy, I shall use the Normal approximation to make our calculation shorter, but there are other methods for this example. We will use the fact that $$ \bar{X} \approx \sim N(\theta, \frac{1}{4n}) \ldots $$

---

## Normal distribution reminder

![Sketch of probabilities of a Normal distribution, $x$-axis units are standard deviations](normal-curve.jpg){}

[Credit Pete Michaud]{.footer}

---

## Calculating a confidence interval - II
### Binomial probability parameter interval

So finally, we can choose to form this interval

$$
\left[ \bar{X} - 1.96 \times \frac{1}{2\sqrt{n}}, \bar{X} + 1.96 \times \frac{1}{2\sqrt{n}} \right].
$$

Recall we were a bit conservative in taking the largest possible variance, so this interval might cover more than $95\%$, but it certainly covers a region with probability of (at least) $95\%$.

Each is an interval whose centre has expectation which is $\theta$ and has width to cover $95\%$ of the variation resulting from our particular $\bar{x}$ observation.

I've omitted the [probability calculation]{.alert} here, it will appear [in your homeworks]{.alert}!

---

-->
<!-- 

---

## A sneak preview

We will go through the theory and practice of generating such intervals at a later time.

Now I'll give you a sneak preview of what one might look like. The key thing is that the interval uses [only information we know after collecting our data]{.alert}.

When estimating a proportion from a population we often use an interval like this:

$$
\left[ \bar{X} - 1.96 \times \frac{1}{2\sqrt{n}}, \bar{X} + 1.96 \times \frac{1}{2\sqrt{n}} \right].
$$

<!--
Or, when estimating $\mu$ from a $X \sim N(\mu, \sigma^2)$ with known $\sigma$, we often use

$$
\left[ \bar{X} - 1.96\times \frac{\sigma}{\sqrt{n}}, \bar{X} + 1.96\times \frac{\sigma}{\sqrt{n}}  \right].
$$
-->
<!--

---


## Normal distribution reminder

![Sketch of probabilities of a Normal distribution, $x$-axis units are standard deviations](normal-curve.jpg){}

[Credit Pete Michaud]{.footer}

-->
</section>
<section id="important-observations" class="slide level2">
<h2>Important observations</h2>
<div title="$\theta$ is not known">
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><span class="math inline">\(\theta\)</span> is not known</strong></p>
</div>
<div class="callout-content">
<p><span class="math inline">\(\theta\)</span> is fixed but unknown to you, we are not attaching probabilities to possible values of <span class="math inline">\(\theta\)</span>.</p>
<p>Confusingly we’re not even saying a particular specific interval has a ‘probability of containing <span class="math inline">\(\theta\)</span>’.</p>
</div>
</div>
</div>
</div>
<div title="Better than a point estimate for $\theta$">
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Better than a point estimate for <span class="math inline">\(\theta\)</span></strong></p>
</div>
<div class="callout-content">
<p>Before now our simplest way to estimate <span class="math inline">\(\theta\)</span> was via an unbiased estimator.</p>
<p>A friend says they surveyed some students and now predicts that <span class="math inline">\(60\%\)</span> of all students have been to Spain. What can you learn?</p>
</div>
</div>
</div>
</div>
<p>At <span class="math inline">\(95\%\)</span> our confidence interval for <span class="math inline">\(\theta\)</span> is</p>
<p><span class="math display">\[
[8.78\%, 44.56\%].
\]</span></p>
<!--

---


## Confidence intervals for Normal distributions
### when $X \sim N(\mu, \sigma^2)$ we know $\sigma$, but want to estimate $\mu$

It's worth seeing what a typical general Normal distribution interval looks like, if our underlying/sampling/starting distribution was Normally distributed.

For a $95\%$ confidence interval we get:

$$
\left[ \bar{X} - 1.96\times \frac{\sigma}{\sqrt{n}}, \bar{X} + 1.96\times \frac{\sigma}{\sqrt{n}}  \right]
$$

You will be asked to derive this in at least one of your homework questions!

For a $99\%$ confidence interval we get:

$$
\left[ \bar{X} - 2.576\times \frac{\sigma}{\sqrt{n}}, \bar{X} + 2.576\times \frac{\sigma}{\sqrt{n}}  \right]
$$

---


## Confidence intervals with more unknowns (advanced)
### when $X \sim N(\mu, \sigma^2)$ but $\sigma$ is unknown

Sometimes we don't know $\mu$ or $\sigma$, but want to estimate $\mu$. The confidence interval methods allow for some flexibility in choices, and it turns out that estimating $\sigma$ from the sample is not a problem, but takes a lot more work.

Recall we want an interval whose width and location doesn't depend upon unknown parameters, as it needs to work whatever $\theta$ (and $\sigma$) happen to be.

There is quantity known as $\hat{\sigma}$ which is an unbiased estimate for the variance $\sigma$, with formula

$$
\hat{\sigma}^2 = \frac{1}{n-1}\sum_1^n \left(x_i-\hat{\mu}\right)^2
$$
But the probability calculation for the interval is no longer for a Normal distribution, so we'll save this for a future module!



---
-->
</section>
<section id="discussion-time" class="slide level2">
<h2>Discussion time!</h2>
<div title="Question 1">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Question 1</strong></p>
</div>
<div class="callout-content">
<p>Is a wider or a narrower Confidence Interval (CI) better?</p>
</div>
</div>
</div>
</div>
<div title="Question 2">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Question 2</strong></p>
</div>
<div class="callout-content">
<p>Suppose you design a procedure to create a <span class="math inline">\(95\%\)</span> CI.</p>
<p>How would your output differ if I now asked for a <span class="math inline">\(98\%\)</span> CI?</p>
</div>
</div>
</div>
</div>
<div title="*Question 3">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>*Question 3</strong></p>
</div>
<div class="callout-content">
<p>What if we change our plan, and instead conduct a larger sample, i.e.&nbsp;a larger <span class="math inline">\(n\)</span>?</p>
<p>(e.g.&nbsp;in our Spain example)</p>
</div>
</div>
</div>
</div>
<!--

---

## More questions

::: {.callout-note title='*Question 4'}
Do we expect a unique $95\%$ CI for a given problem setup? Or could there be multiple ways to generate intervals with this property?
:::
  
::: {.callout-note title='*Question 5'}
Suppose you're estimating $\mu$ from a $N(\mu, \sigma^2)$ with known $\sigma$, how would your  $95\%$-interval change if someone tells you you had the wrong $\sigma$ and that the true $\sigma$ was actually smaller?
:::

-->
</section>
<section id="what-is-a-p-value" class="slide level2">
<h2>What is a <span class="math inline">\(p\)</span>-value?</h2>
<h3 id="p-stands-for-probability"><span class="math inline">\(p\)</span> stands for probability</h3>
<p>We calculate a <span class="math inline">\(p\)</span>-value in the realm of <span class="term">hypothesis testing</span>, something we have touched on before.</p>
<p>We have theories about a model parameter(s).</p>
<p>Typically this includes some boring/default possibility, called a <span class="term">null hypothesis</span> (<span class="math inline">\(H_0\)</span>) which says something concrete and specific about the parameter, like <span class="math inline">\(\theta=0\)</span> or <span class="math inline">\(\theta=0.5\)</span>, or in a more complex situation that two population’s means are the same, so <span class="math inline">\(\mu_1=\mu_2\)</span>.</p>
</section>
<section id="what-is-a-p-value-1" class="slide level2">
<h2>What is a <span class="math inline">\(p\)</span>-value?</h2>
<h3 id="a-wordy-version">A wordy version</h3>
<div title="Informal Definition">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Informal Definition</strong></p>
</div>
<div class="callout-content">
<p>A <span class="term"><span class="math inline">\(p\)</span>-value</span> is a calculated probability.</p>
<p><span class="alert">First assume the null hypothesis about <span class="math inline">\(\theta\)</span> is true</span>… then calculate <span class="alert">the probability</span> of seeing either the observed data/statistic or seeing something <span class="alert">more surprising</span>.</p>
</div>
</div>
</div>
</div>
<!--
Tiny $p$-values are very rarely the result of this process, if $H_0$ really is true.

So a $p$-value is just a single number, which informally captures a measure of the unlikeliness of what happened...
-->
<p>Critically, we’re <span class="alert">assuming the null hypothesis about <span class="math inline">\(\theta\)</span> is true</span>.</p>
<!--This is often shortened to the phrase [under the null hypothesis]{.term}.
-->
<!--

---

## What is a $p$-value?
### The slightly more formal definition

Consider an experiment designed to investigate some competing hypotheses, a baseline [null hypothesis]{.term} that a model parameter $\theta$ takes some known value, and a rival hypothesis about $\theta$ which could be more complex and multi-valued.

::: {.callout-warning title='Formal Definition'}
Suppose we are testing our hypothesis by collecting (random) data $X$, then calculating a statistic $t(x)$ from data $x$. Consider the possible values $t(X)$ [under $H_0$]{.alert}, that could occur from our random data input, then our $p$-value is determined by an equation like:
$$
p = \P_{H_0}\left(t(X) \geq t(x) \right) \qquad \text{for a right-tailed test}
$$
or
$$
p = \P_{H_0}\left(t(X) \leq t(x) \right) \qquad \text{for a left-tailed test}
$$
where $\P_{H_0}$ means [probability under $H_0$]{.alert}.
:::

---


## The $p$-value definition
### Further explanation

On the previous slide we were unable to give a fully satsifying definition for all cases owing to the need to clarify what it means for result to be [more surprising]{.term}, which depends upon the hypotheses being tested.

1. This first equation (right-tailed) formula calculated the probability of seeing a test statistic value as high, or higher than, the observed $t(x)$.

2. The second equation (left-tailed) formula calculated the probability of seeing a test statistic value as low, or lower than, the observed $t(x)$.

3. A two-tailed formulae exists too, we will define it when it arises in examples in examples and homeworks.



---
-->
</section>
<section id="the-p-value-finding-process" class="slide level2">
<h2>The <span class="math inline">\(p\)</span>-value finding process</h2>
<div class="center">
<p><img data-src="Mermaid2.png" style="height:8cm"></p>
</div>
<div class="columns">
<div class="column" style="width:30%;">

</div><div class="column" style="width:44%;">
<p>Assuming <span class="math inline">\(H_0\)</span> this central process spits out a value drawn from a random variable, <span class="math inline">\(P\)</span>. <br> <span class="small">(Typically <span class="math inline">\(P\)</span> is actually Uniform<span class="math inline">\([0,1]\)</span>.)</span></p>
</div><div class="column" style="width:22%;">
<p>Interpret!</p>
</div>
</div>
<div class="hidden">
<p>flowchart LR A[Plan experimente.g.&nbsp;n, α ] –&gt; B subgraph proc [p-value process] B[Do experiment] –&gt; C[Analyse then calculate p-value] end subgraph output [p-value] C –&gt; D[p] end</p>
</div>
</section>
<section id="a-measure-of-surprise" class="slide level2">
<h2>A measure of surprise</h2>
<p>One informal interpretation of the <span class="math inline">\(p\)</span>-value is as a <span class="term">measure of surprise</span> of getting the result we did, assuming <span class="math inline">\(H_0\)</span> is true. More formally…</p>
<div title="Always pick a significance level $\alpha$ first">
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Always pick a significance level <span class="math inline">\(\alpha\)</span> first</strong></p>
</div>
<div class="callout-content">
<p>It is important to set a <span class="term">significance level</span> <span class="math inline">\(\alpha\)</span>, e.g.&nbsp;<span class="math inline">\(\alpha=5\%=0.05\)</span> before conducting the experiment. Your <span class="math inline">\(p\)</span>-value is then compared to this <span class="math inline">\(\alpha\)</span>.</p>
<p>If probability <span class="math inline">\(p\)</span> is lower than <span class="math inline">\(\alpha\)</span>, we say there is <span class="alert">significant evidence</span> to <span class="alert">reject our null hypothesis</span>.</p>
</div>
</div>
</div>
</div>
<div title="Always assuming $H_0$">
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Always assuming <span class="math inline">\(H_0\)</span></strong></p>
</div>
<div class="callout-content">
<p>Any statements you make are in this context.</p>
<p>You are not trying to calculate the probability of this, or some other hypothesis being true. Just looking for evidence against <span class="math inline">\(H_0\)</span>.</p>
</div>
</div>
</div>
</div>
</section>
<section id="example-of-a-p-value" class="slide level2">
<h2>Example of a <span class="math inline">\(p\)</span>-value</h2>
<h3 id="my-psychic-friend">My psychic friend</h3>
<p>My friend claims to have mild magic powers. They claim to be able to correctly guess with better than random luck the results of tossing a fair coin, one at a time. So I planned an experiment, I would toss a coin <span class="math inline">\(20\)</span> times and count how many of the tosses they could correctly predict.</p>
<p>I set a target <span class="term">significance level</span> <span class="math inline">\(\alpha=0.05=5\%\)</span> for my surprise/significance threshold.</p>
<p>They actually got <span class="math inline">\(16\)</span> out of <span class="math inline">\(20\)</span> tosses correct!</p>
<p>My <span class="math inline">\(H_0\)</span> was that they had no psychic abilities, and so <span class="alert">assuming <span class="math inline">\(H_0\)</span></span> each guess would be 50/50 correct. So, with my knowledge of Binomial probabilities, <span class="term">assuming this <span class="math inline">\(H_0\)</span></span></p>
<p><span class="math display">\[
\mathbb{P}_{H_0}(\text{correct}(X) \geq 16) = \mathbb{P}(16, 17, 18, 19 \text{ or }20 \text{ correct}) = 0.005909
\]</span> e.g.&nbsp;via <code>1-pbinom(15, 20, 0.5)</code> in R.</p>
</section>
<section id="is-my-friend-psychic" class="slide level2">
<h2>Is my friend psychic?</h2>
<!--
Remember their claim was to be good at coin predictions, so we only want to test for results at least as surprising as 16 which are in favour of their claim (i.e. also 17,18,19,20). Scoring $0$ correct is extremely surprising but we're not seeing that as evidence they are good at predicting coin tosses.
-->
<p>The <span class="math inline">\(p\)</span>-value was 0.005909, i.e.&nbsp;around <span class="math inline">\(0.6\%\)</span> which is definitely much lower than my <span class="term">significance level</span> of <span class="math inline">\(\alpha=5\%\)</span>, so I conclude that there is strong evidence to <span class="alert">reject the null hypothesis</span> that my friend has no such psychic abilities.</p>
<p>Looking more carefully we can identify:</p>
<ol type="a">
<li>a <span class="term">rejection/critical region</span>, <span class="math inline">\(C\)</span>, of scores which would have led me to reject <span class="math inline">\(H_0\)</span>;</li>
<li>an <span class="term">acceptance region</span>, <span class="math inline">\(A\)</span>, of scores which would have led me to not reject <span class="math inline">\(H_0\)</span>.</li>
</ol>
<p>In this case</p>
<p><span class="math display">\[
A = \{0,1,2,\ldots,14\} \qquad \text{and} \qquad C = \{15,16,\ldots,20\}.
\]</span></p>
</section>
<section id="p-value-dangers" class="slide level2">
<h2><span class="math inline">\(p\)</span>-value dangers</h2>
<p>There are a number of dangers of using <span class="math inline">\(p\)</span>-values, today I will highlight just one…</p>
<!--
::: {.callout-caution title='Warning'}
Even a significantly low $p$-value doesn't say anything about the importance of your result.
:::

We could sample 3000 adult women in Denmark and the Netherlands and discover their nation's average heights are significantly different (i.e. reject that $\mu_D = \mu_N$) when in fact $\mu_D=1.695$ and $\mu_F = 1.704$.
  
-->
<div class="center">
<p><span class="alert">I lied to you, a little…</span></p>
</div>
<div title="Warning">
<div class="callout callout-caution callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Warning</strong></p>
</div>
<div class="callout-content">
<p>My psychic friend actually made me repeat the experiment until they got a good score, their score of <span class="math inline">\(16\)</span> was actually the <span class="math inline">\(52\)</span>nd experiment!</p>
<p>Are we still impressed?</p>
</div>
</div>
</div>
</div>
</section>
<section id="discussion-time-1" class="slide level2">
<h2>Discussion time</h2>
<div title="Question 1">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Question 1</strong></p>
</div>
<div class="callout-content">
<p>A 40-year old man from Stirling won the lottery last week.</p>
<p>Is that surprising?</p>
</div>
</div>
</div>
</div>
<div title="Question 2">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Question 2</strong></p>
</div>
<div class="callout-content">
<p>Is a <span class="math inline">\(p\)</span>-value of <span class="math inline">\(0.2\)</span> ten times more likely to occur than a <span class="math inline">\(p\)</span> value of <span class="math inline">\(0.02\)</span>?</p>
</div>
</div>
</div>
</div>
<div title="Question 3">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Question 3</strong></p>
</div>
<div class="callout-content">
<p>Suppose I test a class of <span class="math inline">\(20\)</span> students for psychic skills. Everyone individually guesses 20 coin toss results, sequentially. Can I use a <span class="math inline">\(p\)</span>-value to test if psychic skills exist in any individuals in my class?</p>
</div>
</div>
</div>
</div>
</section>
<section id="confidence-intervals-and-p-values" class="slide level2">
<h2>Confidence intervals and <span class="math inline">\(p\)</span>-values</h2>
<h3 id="are-they-related">Are they related?</h3>
<p>I don’t like to discuss their relationship too soon after introducing these two concepts.</p>
<p>A number of common misunderstandings that can arise with these ideas come from confusing concepts between them, so I recommend trying to keep the ideas themselves separate while you’re mastering the concepts. So first, we shall stress their contrasts:</p>
<div title="Confidence Intervals">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Confidence Intervals</strong></p>
</div>
<div class="callout-content">
<p>There is a fixed but unknown parameter (e.g.&nbsp;<span class="math inline">\(\theta\)</span>). We are trying to create an interval which contains <span class="math inline">\(\theta\)</span> using some data samples.</p>
</div>
</div>
</div>
</div>
<div title="$p$-values">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><span class="math inline">\(p\)</span>-values</strong></p>
</div>
<div class="callout-content">
<p>We collect some data, then we assume a particular fixed <span class="math inline">\(\theta\)</span> value drawn from our null hypothesis. Then we perform a calculation of the likelihood of seeing this result (or a more extreme one, with respect to our hypotheses).</p>
</div>
</div>
</div>
</div>
</section>
<section id="so-are-they-related" class="slide level2">
<h2>So are they related?</h2>
<p>Yes, it turns out that if we use <span class="math inline">\(\gamma=95\%\)</span> and <span class="math inline">\(\alpha=5\%\)</span> (or generally <span class="math inline">\(\gamma=1-\alpha\)</span>) then (typically)</p>
<ul>
<li>if you find the <span class="math inline">\(95\%\)</span> Confidence Interval from the data then…</li>
<li>the values in the Confidence Interval are all possible null hypothesis values of <span class="math inline">\(\theta\)</span> which would have led us <span class="alert">NOT</span> to have rejected <span class="math inline">\(H_0\)</span>, i.e.&nbsp;for which the <span class="math inline">\(p\)</span>-value for our observed data fall within the non-significant <span class="term">Acceptance</span> region mentioned earlier.</li>
</ul>
<p>This is quite difficult to grasp if we’ve only just introduced these two topics, so it’s perhaps best to revisit when you’re more comfortable with the topics separately.</p>
<p>You will get opportunities to see this occurring, practically, in homework questions.</p>
</section>
<section id="thanks" class="slide level2 center">
<h2>Thanks!</h2>
<div class="quarto-auto-generated-content">
<div class="footer footer-default">
<p>CIs and <span class="math inline">\(p\)</span>-values</p>
</div>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="CIandPVals_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="CIandPVals_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="CIandPVals_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="CIandPVals_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="CIandPVals_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="CIandPVals_files/libs/revealjs/plugin/multiplex/socket.io.js"></script>
  <script src="CIandPVals_files/libs/revealjs/plugin/multiplex/multiplex.js"></script>
  <script src="CIandPVals_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="CIandPVals_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="CIandPVals_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="CIandPVals_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="CIandPVals_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'multiplex': {"secret":null,"id":"3ed9233bdb2d9334","url":"https://reveal-multiplex.glitch.me/"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>